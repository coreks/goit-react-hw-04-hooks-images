{"version":3,"sources":["services/imagesApi.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["getImagesByAxios","axios","create","baseURL","method","params","key","image_type","orientation","per_page","fetchImages","imageName","page","a","hits","data","Searchbar","onSubmit","useState","setImageName","className","e","preventDefault","trim","toast","error","type","placeholder","value","onChange","currentTarget","toLowerCase","autoComplete","autoFocus","ImageGalleryItem","webformatURL","tags","largeImageURL","handleSelectedImage","src","alt","onClick","ImageGallery","images","map","id","Spinner","color","height","width","timeout","Button","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","target","App","setImages","setPage","status","setStatus","selectedImage","setSelectedImage","length","prevState","scrollTo","top","documentElement","scrollHeight","behavior","console","message","getImages","isShowButton","newImageName","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.52bb7806.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst getImagesByAxios = axios.create({\n  baseURL: 'https://pixabay.com/api',\n  method: 'GET',\n  params: {\n    key: '22675248-9d53002fe5bb858ba3591edf9',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: '12',\n  },\n});\n\nexport const fetchImages = async (imageName, page) => {\n  const {\n    data: { hits },\n  } = await getImagesByAxios(`/?q=${imageName}&page=${page}`);\n\n  return hits;\n};\n","import React from 'react';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState('');\n\n  const handleNameChange = e => {\n    setImageName(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (imageName.trim() === '') {\n      return toast.error(`Enter the name of the picture!`);\n    }\n\n    onSubmit(imageName);\n    setImageName('');\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form onSubmit={handleSubmit} className=\"SearchForm\">\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          placeholder=\"Search images and photos\"\n          value={imageName}\n          onChange={handleNameChange}\n          autoComplete=\"off\"\n          autoFocus\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  tags,\n  largeImageURL,\n  handleSelectedImage,\n}) => {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        alt={tags}\n        onClick={() => handleSelectedImage(largeImageURL, tags)}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  handleSelectedImage: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ images, handleSelectedImage }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          tags={tags}\n          largeImageURL={largeImageURL}\n          handleSelectedImage={handleSelectedImage}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n  handleSelectedImage: PropTypes.func,\n};\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Spinner = () => {\n  return (\n    <div className=\"Loading\">\n      <Loader\n        type=\"Oval\"\n        color=\"#00BFFF\"\n        height={60}\n        width={60}\n        timeout={2500}\n      />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} className=\"Button\">\n      Load More\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({ onClose, src, alt }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\n      <div className=\"Modal\">\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\n\nimport { fetchImages } from './services/imagesApi';\n\nimport Searchbar from './components/Searchbar/Searchbar.jsx';\nimport ImageGallery from './components/ImageGallery/ImageGallery.jsx';\nimport Spinner from './components/Loader/Loader';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction App() {\n  const [imageName, setImageName] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState('idle');\n  const [selectedImage, setSelectedImage] = useState(null);\n\n  useEffect(() => {\n    if (!imageName) {\n      return;\n    }\n    async function getImages() {\n      try {\n        setStatus('pending');\n\n        const images = await fetchImages(imageName, page);\n        setStatus('resolved');\n\n        if (!images.length) {\n          return toast.error(\n            `Picture with the name ${imageName} is not in the catalog`,\n          );\n        }\n\n        setImages(prevState => [...prevState, ...images]);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      } catch (error) {\n        setStatus('rejected');\n        console.error(error.message);\n      }\n    }\n    getImages();\n  }, [imageName, page]);\n\n  const handleFormSubmit = newImageName => {\n    if (imageName === newImageName) {\n      return;\n    }\n\n    setImageName(newImageName);\n    setImages([]);\n    setPage(1);\n  };\n\n  const pageIncrement = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  const handleSelectedImage = (src, tags) => {\n    setSelectedImage({ src, tags });\n  };\n\n  const handleCloseModal = () => {\n    setSelectedImage(null);\n  };\n\n  const isShowButton = images.length > 0;\n\n  return (\n    <>\n      <Searchbar onSubmit={handleFormSubmit} />\n\n      <ImageGallery images={images} handleSelectedImage={handleSelectedImage} />\n\n      {status === 'pending' && <Spinner />}\n\n      {isShowButton && <Button onClick={pageIncrement} />}\n\n      {selectedImage && (\n        <Modal\n          onClose={handleCloseModal}\n          src={selectedImage.src}\n          alt={selectedImage.tags}\n        />\n      )}\n\n      <ToastContainer autoClose={2500} />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}